/************************************************************
 * Osaka-Jade for Zen Browser
 ************************************************************/

/* ========== 0. PALETTE VARIABLES ========== */

:root {
  /* Core Backgrounds */
  --oj-bg:            #11221C;        /* main background */
  --oj-bg-soft:       #0d1f0d;        /* green_dark_solid */
  --oj-bg-alt:        #0a2e0a;        /* green_dark_shadow (transparent-ish) */
  --oj-bg-panel:      #1A2E26;        /* derived for tabs / dropdown */

  /* Foregrounds */
  --oj-fg:            #C1C497;        /* main text */
  --oj-fg-soft:       #E8F5E8;        /* groupbar_text */
  --oj-fg-muted:      #8FA88A;        /* derived soft green */
  --oj-fg-weaker:     #4F5F4A;        /* deep muted */

  /* Accents */
  --oj-accent:        #2e7d32;        /* green_primary */
  --oj-accent-bright: #4caf50;        /* green_accent */
  --oj-accent-soft:   rgba(46,125,50,0.20);

  /* Warm danger highlights */
  --oj-orange:        #ff6b35;        /* orange_locked */
  --oj-orange-soft:   rgba(255,107,53,0.20);

  /* Borders */
  --oj-border-soft:   rgba(193,196,151,0.12);   /* soft moss border */
  --oj-border-strong: rgba(193,196,151,0.25);

  /* Shadows */
  --oj-shadow-soft:   0 0 0 1px rgba(0,0,0,0.55),
                      0 10px 24px rgba(0,0,0,0.65);

  /* Highlights */
  --oj-highlight-row:    rgba(46,125,50,0.18);  /* jade hover/select */
  --oj-highlight-panel:  rgba(22,50,40,0.55);
}

/************************************************************
 * 1. GLOBAL / WINDOW BACKGROUND
 ************************************************************/

#zen-browser-background {
  background-color: var(--oj-bg) !important;
  color: var(--oj-fg) !important;
}

#zen-browser-background::after {
  background-color: var(--oj-bg-soft) !important;
}

/* Page area */
browser[type="content-primary"],
browser[type="content"] {
  background-color: var(--oj-bg) !important;
  color: var(--oj-fg) !important;
}

/* Prevent Firefox themes from overriding */
:root:-moz-lwtheme {
  background-color: var(--oj-bg) !important;
  color: var(--oj-fg) !important;
}

/************************************************************
 * 2. TOOLBARS / TABSTRIP
 ************************************************************/

#navigator-toolbox,
#titlebar,
#TabsToolbar,
#nav-bar {
  background-color: var(--oj-bg) !important;
  color: var(--oj-fg) !important;
  border: none !important;
}

/* Bookmarks toolbar */
#PersonalToolbar {
  background-color: var(--oj-bg-soft) !important;
  color: var(--oj-fg-soft) !important;
  border-bottom: 1px solid var(--oj-border-soft) !important;
}

#navigator-toolbox::after,
#nav-bar::after {
  border: none !important;
}

/************************************************************
 * 3. TABS (Jade accent)
 ************************************************************/

.tabbrowser-arrowscrollbox {
  background-color: var(--oj-bg) !important;
}

/* Default tab */
.tabbrowser-tab {
  color: var(--oj-fg-muted) !important;
  font-weight: 500;
}

.tabbrowser-tab .tab-background {
  background-color: transparent !important;
  border-radius: 8px !important;
  border: 1px solid transparent !important;
  margin-block: 3px !important;
  padding-inline: 2px !important;
}

/* Hover */
.tabbrowser-tab:hover .tab-background {
  background-color: var(--oj-bg-panel) !important;
  border-color: var(--oj-border-soft) !important;
}

/* Selected */
.tabbrowser-tab[selected="true"] .tab-background {
  background-color: var(--oj-bg-soft) !important;
  border-color: var(--oj-accent) !important;
  box-shadow: 0 0 0 1px var(--oj-accent-soft) !important;
}

.tabbrowser-tab[selected="true"] .tab-label {
  color: var(--oj-fg-soft) !important;
}

.tabbrowser-tab:not([selected="true"]) .tab-label {
  color: var(--oj-fg-muted) !important;
}

/* Audio */
.tabbrowser-tab .tab-icon-overlay {
  fill: var(--oj-accent-bright) !important;
  opacity: 0.95 !important;
}

/* Close button */
.tabbrowser-tab .tab-close-button {
  fill: var(--oj-fg-muted) !important;
  opacity: 0.8 !important;
}
.tabbrowser-tab .tab-close-button:hover {
  background-color: var(--oj-orange-soft) !important;
  fill: var(--oj-orange) !important;
}

/************************************************************
 * 4. URL BAR / SEARCH BAR
 ************************************************************/

#urlbar,
.searchbar-textbox {
  background-color: var(--oj-bg-panel) !important;
  color: var(--oj-fg) !important;
  border-radius: 12px !important;
  border: 1px solid var(--oj-border-soft) !important;
}

/* Input text */
#urlbar-input,
#urlbar .urlbar-input-box {
  color: var(--oj-fg) !important;
}

#urlbar-input::placeholder {
  color: var(--oj-fg-muted) !important;
}

/* Focused URL bar */
#urlbar[focused="true"],
.searchbar-textbox[focused="true"] {
  background-color: var(--oj-bg-soft) !important;
  border-color: var(--oj-accent) !important;
  box-shadow: var(--oj-shadow-soft) !important;
}

/* URL results dropdown */
.urlbarView-results,
.urlbarView-body-inner {
  background-color: var(--oj-bg-panel) !important;
  border: 1px solid var(--oj-border-soft) !important;
  border-radius: 10px !important;
}

/* Result rows */
.urlbarView-row {
  padding-block: 4px !important;
  border-radius: 6px !important;
}

.urlbarView-row:hover,
.urlbarView-row[aria-selected="true"] {
  background-color: var(--oj-highlight-row) !important;
}

/* Titles / URLs */
.urlbarView-title {
  color: var(--oj-fg) !important;
}
.urlbarView-url {
  color: var(--oj-accent-bright) !important;
}

/************************************************************
 * 5. TOOLBAR BUTTONS / ICONS
 ************************************************************/

toolbarbutton,
toolbarbutton > .toolbarbutton-icon,
toolbarbutton > .toolbarbutton-text {
  color: var(--oj-fg-muted) !important;
  fill: var(--oj-fg-muted) !important;
}

/* Hover */
toolbarbutton:hover:not([disabled="true"]) > .toolbarbutton-icon {
  background-color: var(--oj-bg-panel) !important;
  border-radius: 8px !important;
  fill: var(--oj-fg-soft) !important;
}

/* Active */
toolbarbutton[open="true"],
toolbarbutton[checked="true"] {
  background-color: var(--oj-bg-soft) !important;
  border-radius: 8px !important;
  box-shadow: 0 0 0 1px var(--oj-border-soft) !important;
}

/************************************************************
 * 6. SIDEBAR (bookmarks, history, Zen sidebar)
 ************************************************************/

#sidebar-box,
#zen-sidebar,
#zen-sidebar-container {
  background-color: var(--oj-bg-soft) !important;
  color: var(--oj-fg) !important;
  border-right: 1px solid var(--oj-border-soft) !important;
}

#sidebar-header {
  background-color: var(--oj-bg-panel) !important;
  color: var(--oj-fg-soft) !important;
  border-bottom: 1px solid var(--oj-border-soft) !important;
}

/* Rows */
#bookmarks-view treechildren::-moz-tree-row,
#historyTree treechildren::-moz-tree-row {
  background-color: transparent !important;
}

#bookmarks-view treechildren::-moz-tree-row(selected),
#historyTree treechildren::-moz-tree-row(selected) {
  background-color: var(--oj-highlight-row) !important;
}

/* Tree text */
#bookmarks-view treechildren::-moz-tree-cell-text,
#historyTree treechildren::-moz-tree-cell-text {
  color: var(--oj-fg-muted) !important;
}

#bookmarks-view treechildren::-moz-tree-cell-text(selected),
#historyTree treechildren::-moz-tree-cell-text(selected) {
  color: var(--oj-fg-soft) !important;
}

/************************************************************
 * 7. MENUS / PANELS
 ************************************************************/

menupopup,
panel,
#appMenu-popup {
  background-color: var(--oj-bg-panel) !important;
  color: var(--oj-fg) !important;
  border: 1px solid var(--oj-border-soft) !important;
  border-radius: 8px !important;
}

menuitem,
menu {
  color: var(--oj-fg-soft) !important;
}

menuitem[_moz-menuactive="true"],
menu[_moz-menuactive="true"] {
  background-color: var(--oj-highlight-row) !important;
  color: var(--oj-fg-soft) !important;
}

/************************************************************
 * 8. FORM CONTROLS (preferences, etc.)
 ************************************************************/

textbox,
input,
textarea,
.search-textbox,
menulist {
  background-color: var(--oj-bg-panel) !important;
  color: var(--oj-fg) !important;
  border: 1px solid var(--oj-border-soft) !important;
  border-radius: 6px !important;
}

textbox:focus,
input:focus,
textarea:focus,
.search-textbox[focused="true"],
menulist:focus {
  border-color: var(--oj-accent) !important;
  box-shadow: 0 0 0 1px var(--oj-accent-soft) !important;
}

/************************************************************
 * 9. SCROLLBARS
 ************************************************************/

:root {
  scrollbar-width: thin;
  scrollbar-color: var(--oj-fg-muted) var(--oj-bg-alt);
}

scrollbar {
  background-color: var(--oj-bg-alt) !important;
}

scrollbar thumb {
  background-color: var(--oj-fg-muted) !important;
  border-radius: 999px !important;
}

scrollbar thumb:hover {
  background-color: var(--oj-fg-soft) !important;
}

/************************************************************
 * 10. CLEANUPS
 ************************************************************/

#navigator-toolbox::after { border-bottom: none !important; }

#nav-bar {
  padding-block: 2px !important;
}

/* Keep UI readable on dark forest background */
toolbar,
panelview,
panelmultiview,
#TabsToolbar,
#nav-bar,
#PersonalToolbar {
  color: var(--oj-fg) !important;
}
