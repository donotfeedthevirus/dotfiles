/************************************************************
 * Pink Blood for Zen Browser
 ************************************************************/

/* ========== 0. PALETTE VARIABLES (PINK BLOOD) ========== */

:root {
  /* Core backgrounds */
  --pb-bg:          #050007;      /* main background */
  --pb-bg-soft:     #09000e;      /* slightly lifted */
  --pb-bg-panel:    #120015;      /* panels / urlbar / dropdowns */
  --pb-bg-strong:   #1a001c;      /* stronger highlight panels */

  /* Foregrounds */
  --pb-fg:          #f17e97;      /* main text */
  --pb-fg-bright:   #f17e97;      /* fg_bright */
  --pb-fg-muted:    #a85869;      /* gray2 */
  --pb-fg-weak:     #6a2e3e;      /* derived deeper muted */

  /* Palette (from your colors) */
  --pb-red-deep:    #8F0936;      /* color1/9 */
  --pb-red:         #AF0B39;      /* gray1 / color2 */
  --pb-red-bright:  #CE0D3C;      /* gray4 / color3 */
  --pb-pink:        #D40D40;      /* gray5 / color5 */
  --pb-pink-neon:   #F00F40;      /* cyan slot, used as HOT accent */
  --pb-pink-line:   #E80F3E;      /* gray3 / blue */

  /* Main accent = neon pink/cyan blend */
  --pb-accent:         #F00F40;
  --pb-accent-alt:     #E80F3E;
  --pb-accent-soft:    rgba(240, 15, 64, 0.25);

  /* Borders / shadows */
  --pb-border-soft:    rgba(241, 126, 151, 0.22);
  --pb-border-strong:  rgba(241, 126, 151, 0.40);

  --pb-shadow-soft:    0 0 0 1px rgba(0, 0, 0, 0.75),
                       0 14px 36px rgba(0, 0, 0, 0.9);

  /* Row highlights */
  --pb-highlight-row:     rgba(208, 13, 60, 0.35);  /* mid pink */
  --pb-highlight-accent:  rgba(240, 15, 64, 0.28);

  /* Selection text colors (for safety) */
  --pb-selection-fg:     #050007;
  --pb-selection-bg:     #f17e97;
}

/************************************************************
 * 1. GLOBAL / WINDOW BACKGROUND
 ************************************************************/

#zen-browser-background {
  background-color: var(--pb-bg) !important;
  color: var(--pb-fg) !important;
}

/* slight depth */
#zen-browser-background::after {
  background-color: var(--pb-bg-soft) !important;
}

/* Page content */
browser[type="content-primary"],
browser[type="content"] {
  background-color: var(--pb-bg) !important;
  color: var(--pb-fg) !important;
}

/* Force our theme over lwtheme */
:root:-moz-lwtheme {
  background-color: var(--pb-bg) !important;
  color: var(--pb-fg) !important;
}

/************************************************************
 * 2. TOOLBARS / TITLEBAR / TABSTRIP
 ************************************************************/

#navigator-toolbox,
#titlebar,
#TabsToolbar,
#nav-bar {
  background-color: var(--pb-bg) !important;
  color: var(--pb-fg) !important;
  border: none !important;
}

/* Bookmarks toolbar */
#PersonalToolbar {
  background-color: var(--pb-bg-soft) !important;
  color: var(--pb-fg-muted) !important;
  border-bottom: 1px solid var(--pb-border-soft) !important;
}

/* Kill default bottom border line */
#navigator-toolbox::after,
#nav-bar::after {
  border: none !important;
}

/************************************************************
 * 3. TABS (NEON BUBBLES)
 ************************************************************/

.tabbrowser-arrowscrollbox {
  background-color: var(--pb-bg) !important;
}

/* Base tab */
.tabbrowser-tab {
  color: var(--pb-fg-muted) !important;
  font-weight: 500;
}

.tabbrowser-tab .tab-background {
  background-color: transparent !important;
  border-radius: 8px !important;
  border: 1px solid transparent !important;
  margin-block: 3px !important;
  padding-inline: 2px !important;
}

/* Hover */
.tabbrowser-tab:hover .tab-background {
  background-color: var(--pb-bg-soft) !important;
  border-color: var(--pb-border-soft) !important;
}

/* Selected = neon border & deeper bg */
.tabbrowser-tab[selected="true"] .tab-background {
  background-color: var(--pb-bg-strong) !important;
  border-image: linear-gradient(
      45deg,
      #D40D40ee,
      #F00F40ee
    ) 1 !important;   /* matches Hyprâ€™s gradient */
  border-style: solid !important;
  border-width: 1px !important;
  box-shadow: 0 0 12px rgba(240, 15, 64, 0.4) !important;
}

.tabbrowser-tab[selected="true"] .tab-label {
  color: var(--pb-fg-bright) !important;
}

/* Inactive tab labels */
.tabbrowser-tab:not([selected="true"]) .tab-label {
  color: var(--pb-fg-muted) !important;
}

/* Audio badge */
.tabbrowser-tab .tab-icon-overlay {
  fill: var(--pb-accent) !important;
  opacity: 0.95 !important;
}

/* Close button */
.tabbrowser-tab .tab-close-button {
  fill: var(--pb-fg-muted) !important;
  opacity: 0.8 !important;
}
.tabbrowser-tab .tab-close-button:hover {
  background-color: rgba(143, 9, 54, 0.4) !important;
  fill: var(--pb-red-deep) !important;
}

/************************************************************
 * 4. URL BAR / SEARCH BAR
 ************************************************************/

/* URL bar shell */
#urlbar,
.searchbar-textbox {
  background-color: var(--pb-bg-panel) !important;
  color: var(--pb-fg) !important;
  border-radius: 12px !important;
  border: 1px solid var(--pb-border-soft) !important;
  box-shadow: none !important;
}

/* Input text */
#urlbar-input,
#urlbar .urlbar-input-box,
.searchbar-textbox .textbox-input-box {
  color: var(--pb-fg) !important;
}

/* Placeholder */
#urlbar-input::placeholder,
.searchbar-textbox::placeholder {
  color: var(--pb-fg-weak) !important;
}

/* Focused URL bar = neon edge */
#urlbar[focused="true"],
.searchbar-textbox[focused="true"] {
  background-color: var(--pb-bg-strong) !important;
  border-image: linear-gradient(
      45deg,
      #D40D40ee,
      #F00F40ee
    ) 1 !important;
  box-shadow: var(--pb-shadow-soft) !important;
}

/* Dropdown */
#urlbar-result-menu,
.urlbarView-results,
.urlbarView-body-inner {
  background-color: var(--pb-bg-panel) !important;
  color: var(--pb-fg) !important;
  border-radius: 10px !important;
  border: 1px solid var(--pb-border-soft) !important;
}

/* Rows */
.urlbarView-row {
  padding-block: 4px !important;
  border-radius: 6px !important;
}

/* Hover/selected row */
.urlbarView-row:hover,
.urlbarView-row[aria-selected="true"] {
  background-color: var(--pb-highlight-row) !important;
}

/* Titles / URLs */
.urlbarView-title {
  color: var(--pb-fg) !important;
}
.urlbarView-url,
.urlbarView-action {
  color: var(--pb-accent) !important;
}

/************************************************************
 * 5. TOOLBAR BUTTONS & ICONS
 ************************************************************/

toolbarbutton,
toolbarbutton > .toolbarbutton-icon,
toolbarbutton > .toolbarbutton-text {
  color: var(--pb-fg-muted) !important;
  fill: var(--pb-fg-muted) !important;
  background-color: transparent !important;
}

/* Hover */
toolbarbutton:hover:not([disabled="true"]) > .toolbarbutton-icon,
toolbarbutton:hover:not([disabled="true"]) > .toolbarbutton-text {
  background-color: var(--pb-bg-soft) !important;
  border-radius: 8px !important;
  color: var(--pb-fg) !important;
  fill: var(--pb-fg) !important;
}

/* Active */
toolbarbutton[open="true"],
toolbarbutton[checked="true"] {
  background-color: var(--pb-bg-strong) !important;
  border-radius: 8px !important;
  box-shadow: 0 0 0 1px var(--pb-border-soft) !important;
}

/************************************************************
 * 6. SIDEBAR (bookmarks / history / Zen sidebar)
 ************************************************************/

#sidebar-box,
#sidebar-box #sidebar,
#zen-sidebar,
#zen-sidebar-container {
  background-color: var(--pb-bg-soft) !important;
  color: var(--pb-fg) !important;
  border-right: 1px solid var(--pb-border-soft) !important;
}

/* Sidebar header */
#sidebar-header,
#zen-sidebar-header {
  background-color: var(--pb-bg-panel) !important;
  color: var(--pb-fg-bright) !important;
  border-bottom: 1px solid var(--pb-border-soft) !important;
}

/* Tree rows */
#bookmarks-view treechildren::-moz-tree-row,
#historyTree treechildren::-moz-tree-row {
  background-color: transparent !important;
}

/* Selected row */
#bookmarks-view treechildren::-moz-tree-row(selected),
#bookmarks-view treechildren::-moz-tree-row(current, focus),
#historyTree treechildren::-moz-tree-row(selected),
#historyTree treechildren::-moz-tree-row(current, focus) {
  background-color: var(--pb-highlight-row) !important;
}

/* Tree text */
#bookmarks-view treechildren::-moz-tree-cell-text,
#historyTree treechildren::-moz-tree-cell-text {
  color: var(--pb-fg-muted) !important;
}

#bookmarks-view treechildren::-moz-tree-cell-text(selected),
#bookmarks-view treechildren::-moz-tree-cell-text(current, focus),
#historyTree treechildren::-moz-tree-cell-text(selected),
#historyTree treechildren::-moz-tree-cell-text(current, focus) {
  color: var(--pb-fg-bright) !important;
}

/************************************************************
 * 7. MENUS / PANELS / APP MENU
 ************************************************************/

menupopup,
panel,
#appMenu-popup {
  -moz-appearance: none !important;
  background-color: var(--pb-bg-panel) !important;
  color: var(--pb-fg) !important;
  border: 1px solid var(--pb-border-soft) !important;
  border-radius: 8px !important;
}

/* Menu text */
menuitem,
menu {
  -moz-appearance: none !important;
  color: var(--pb-fg) !important;
}

/* Hovered menu item */
menuitem[_moz-menuactive="true"],
menu[_moz-menuactive="true"] {
  background-color: var(--pb-highlight-row) !important;
  color: var(--pb-fg-bright) !important;
}

/* Separator */
menuseparator {
  -moz-appearance: none !important;
  border-top: 1px solid var(--pb-border-soft) !important;
  margin-block: 4px !important;
}

/************************************************************
 * 8. FORM CONTROLS (about:preferences etc.)
 ************************************************************/

textbox,
input,
textarea,
.search-textbox,
menulist {
  background-color: var(--pb-bg-panel) !important;
  color: var(--pb-fg) !important;
  border-radius: 6px !important;
  border: 1px solid var(--pb-border-soft) !important;
}

/* Focused fields */
textbox:focus,
input:focus,
textarea:focus,
.search-textbox[focused="true"],
menulist:focus {
  border-image: linear-gradient(
      45deg,
      #D40D40ee,
      #F00F40ee
    ) 1 !important;
  box-shadow: 0 0 0 1px var(--pb-accent-soft) !important;
}

/************************************************************
 * 9. SCROLLBARS
 ************************************************************/

:root {
  scrollbar-width: thin;
  scrollbar-color: var(--pb-fg-muted) var(--pb-bg-soft);
}

scrollbar,
scrollbar thumb,
scrollbar scrollbarbutton {
  -moz-appearance: none !important;
}

scrollbar {
  background-color: var(--pb-bg-soft) !important;
}

scrollbar thumb {
  background-color: var(--pb-fg-muted) !important;
  border-radius: 999px !important;
}

scrollbar thumb:hover {
  background-color: var(--pb-fg-bright) !important;
}

/************************************************************
 * 10. SELECTION / SAFETY
 ************************************************************/

::selection {
  color: var(--pb-selection-fg) !important;
  background-color: var(--pb-selection-bg) !important;
}

/* Keep general UI readable */
toolbar,
panelview,
panelmultiview,
#TabsToolbar,
#nav-bar,
#PersonalToolbar {
  color: var(--pb-fg) !important;
}

/* Tighten nav-bar a bit */
#nav-bar {
  padding-block: 2px !important;
}
