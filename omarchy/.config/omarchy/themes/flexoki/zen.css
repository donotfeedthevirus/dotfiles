/************************************************************
 * Flexoki Light for Zen Browser
 * Palette: stephango.com/flexoki (Light)
 * Target: Zen Browser (Firefox fork, userChrome.css)
 ************************************************************/

/* ========== 0. PALETTE (FLEXOKI LIGHT + GREEN-YELLOW ACCENT) ========== */

:root {
  /* Base / paper */
  --fx-bg-main:    #FFFCF0;  /* paper */
  --fx-bg-alt:     #F2F0E5;  /* subtle contrast */
  --fx-bg-ui:      #E6E4D9;  /* UI blocks */
  --fx-bg-ui-strong:#DAD8CE; /* stronger separation */

  /* Text */
  --fx-fg:         #100F0F;  /* main text */
  --fx-fg-muted:   #6F6E69;  /* secondary text */
  --fx-fg-weak:    #B7B5AC;  /* hint/placeholder */

  /* Accent: light yellow-green (Flexoki-ish) */
  --fx-accent:         #879A39; /* green-400 vibe */
  --fx-accent-strong:  #66800B; /* deeper */
  --fx-accent-soft:    rgba(135, 154, 57, 0.20);

  /* Status colors (for consistency if used) */
  --fx-red:        #AF3029;
  --fx-orange:     #BC5215;
  --fx-yellow:     #AD8301;
  --fx-green:      #66800B;
  --fx-blue:       #205EA6;
  --fx-cyan:       #24837B;
  --fx-purple:     #5E409D;
  --fx-magenta:    #A02F6F;

  /* Borders/shadows */
  --fx-border-soft:   rgba(16, 15, 15, 0.10);
  --fx-border-strong: rgba(16, 15, 15, 0.20);

  --fx-shadow-soft:  0 0 0 1px rgba(16, 15, 15, 0.04),
                     0 12px 28px rgba(16, 15, 15, 0.12);

  /* Highlights (rows, selection, hover) */
  --fx-highlight-row:     rgba(135, 154, 57, 0.15);  /* accent-soft */
  --fx-highlight-soft:    rgba(32, 94, 166, 0.08);   /* blue-ish soft */
}

/************************************************************
 * 1. GLOBAL / WINDOW BACKGROUND
 ************************************************************/

/* Zen root background */
#zen-browser-background {
  background-color: var(--fx-bg-main) !important;
  color: var(--fx-fg) !important;
}

/* Inner layer (keep light, not dark) */
#zen-browser-background::after {
  background-color: var(--fx-bg-alt) !important;
}

/* Main content area */
browser[type="content-primary"],
browser[type="content"] {
  background-color: var(--fx-bg-main) !important;
  color: var(--fx-fg) !important;
}

/* Avoid dark lwtheme overrides */
:root:-moz-lwtheme {
  background-color: var(--fx-bg-main) !important;
  color: var(--fx-fg) !important;
}

/************************************************************
 * 2. TOOLBARS + TITLEBAR + TABSTRIP
 ************************************************************/

/* Top bar containers */
#navigator-toolbox,
#titlebar,
#TabsToolbar,
#nav-bar {
  background-color: var(--fx-bg-main) !important;
  color: var(--fx-fg) !important;
  border: none !important;
}

/* Bookmark bar */
#PersonalToolbar {
  background-color: var(--fx-bg-alt) !important;
  color: var(--fx-fg-muted) !important;
  border-bottom: 1px solid var(--fx-border-soft) !important;
}

/* Remove default separator line */
#navigator-toolbox::after,
#nav-bar::after {
  border: none !important;
}

/************************************************************
 * 3. TABS (LIGHT WITH GREEN-YELLOW ACCENT)
 ************************************************************/

/* Background behind tabs */
.tabbrowser-arrowscrollbox {
  background-color: var(--fx-bg-main) !important;
}

/* Default tab style */
.tabbrowser-tab {
  color: var(--fx-fg-muted) !important;
  font-weight: 500;
}

/* Tab bubble */
.tabbrowser-tab .tab-background {
  background-color: transparent !important;
  border-radius: 8px !important;
  border: 1px solid transparent !important;
  margin-block: 3px !important;
  padding-inline: 2px !important;
}

/* Hovered tab */
.tabbrowser-tab:hover .tab-background {
  background-color: var(--fx-bg-ui) !important;
  border-color: var(--fx-border-soft) !important;
}

/* Selected tab */
.tabbrowser-tab[selected="true"] .tab-background {
  background-color: var(--fx-bg-ui-strong) !important;
  border-color: var(--fx-accent) !important;
  box-shadow: 0 0 0 1px var(--fx-accent-soft) !important;
}

.tabbrowser-tab[selected="true"] .tab-label {
  color: var(--fx-fg) !important;
}

/* Inactive tabs text */
.tabbrowser-tab:not([selected="true"]) .tab-label {
  color: var(--fx-fg-muted) !important;
}

/* Audio/mute icon on tabs */
.tabbrowser-tab .tab-icon-overlay {
  fill: var(--fx-accent-strong) !important;
  opacity: 0.9 !important;
}

/* Close button */
.tabbrowser-tab .tab-close-button {
  fill: var(--fx-fg-weak) !important;
  opacity: 0.8 !important;
}

.tabbrowser-tab .tab-close-button:hover {
  background-color: rgba(175, 48, 41, 0.10) !important;
  fill: var(--fx-red) !important;
}

/************************************************************
 * 4. URL BAR / SEARCH BAR
 ************************************************************/

/* URL bar container */
#urlbar,
.searchbar-textbox {
  background-color: var(--fx-bg-ui) !important;
  color: var(--fx-fg) !important;
  border-radius: 12px !important;
  border: 1px solid var(--fx-border-soft) !important;
  box-shadow: none !important;
}

/* Input text */
#urlbar-input,
#urlbar .urlbar-input-box,
.searchbar-textbox .textbox-input-box {
  color: var(--fx-fg) !important;
}

/* Placeholder */
#urlbar-input::placeholder,
.searchbar-textbox::placeholder {
  color: var(--fx-fg-weak) !important;
}

/* Focused URL bar â€“ green-yellow accent */
#urlbar[focused="true"],
.searchbar-textbox[focused="true"] {
  background-color: var(--fx-bg-ui-strong) !important;
  border-color: var(--fx-accent) !important;
  box-shadow: var(--fx-shadow-soft) !important;
}

/* URL bar results dropdown */
#urlbar-result-menu,
.urlbarView-results,
.urlbarView-body-inner {
  background-color: var(--fx-bg-ui) !important;
  color: var(--fx-fg) !important;
  border-radius: 10px !important;
  border: 1px solid var(--fx-border-soft) !important;
}

/* Rows */
.urlbarView-row {
  padding-block: 4px !important;
  border-radius: 6px !important;
}

/* Hover/selected row */
.urlbarView-row:hover,
.urlbarView-row[aria-selected="true"] {
  background-color: var(--fx-highlight-row) !important;
}

/* Text inside suggestions */
.urlbarView-title {
  color: var(--fx-fg) !important;
}

.urlbarView-url,
.urlbarView-action {
  color: var(--fx-accent-strong) !important;
}

/************************************************************
 * 5. TOOLBAR BUTTONS & ICONS
 ************************************************************/

toolbarbutton,
toolbarbutton > .toolbarbutton-icon,
toolbarbutton > .toolbarbutton-text {
  color: var(--fx-fg-muted) !important;
  fill: var(--fx-fg-muted) !important;
  background-color: transparent !important;
}

/* Hover */
toolbarbutton:hover:not([disabled="true"]) > .toolbarbutton-icon,
toolbarbutton:hover:not([disabled="true"]) > .toolbarbutton-text {
  background-color: var(--fx-bg-ui) !important;
  border-radius: 8px !important;
  color: var(--fx-fg) !important;
  fill: var(--fx-fg) !important;
}

/* Active / checked */
toolbarbutton[open="true"],
toolbarbutton[checked="true"] {
  background-color: var(--fx-bg-ui-strong) !important;
  border-radius: 8px !important;
  box-shadow: 0 0 0 1px var(--fx-border-soft) !important;
}

/************************************************************
 * 6. SIDEBAR (BOOKMARKS / HISTORY / ZEN SIDEBAR)
 ************************************************************/

#sidebar-box,
#sidebar-box #sidebar,
#zen-sidebar,
#zen-sidebar-container {
  background-color: var(--fx-bg-alt) !important;
  color: var(--fx-fg) !important;
  border-right: 1px solid var(--fx-border-soft) !important;
}

/* Sidebar header */
#sidebar-header,
#zen-sidebar-header {
  background-color: var(--fx-bg-ui) !important;
  color: var(--fx-fg) !important;
  border-bottom: 1px solid var(--fx-border-soft) !important;
}

/* Tree rows (bookmarks/history) */
#bookmarks-view treechildren::-moz-tree-row,
#historyTree treechildren::-moz-tree-row {
  background-color: transparent !important;
}

/* Selected row */
#bookmarks-view treechildren::-moz-tree-row(selected),
#bookmarks-view treechildren::-moz-tree-row(current, focus),
#historyTree treechildren::-moz-tree-row(selected),
#historyTree treechildren::-moz-tree-row(current, focus) {
  background-color: var(--fx-highlight-row) !important;
}

/* Tree text */
#bookmarks-view treechildren::-moz-tree-cell-text,
#historyTree treechildren::-moz-tree-cell-text {
  color: var(--fx-fg-muted) !important;
}

#bookmarks-view treechildren::-moz-tree-cell-text(selected),
#bookmarks-view treechildren::-moz-tree-cell-text(current, focus),
#historyTree treechildren::-moz-tree-cell-text(selected),
#historyTree treechildren::-moz-tree-cell-text(current, focus) {
  color: var(--fx-fg) !important;
}

/************************************************************
 * 7. CONTEXT MENUS / PANELS / APP MENU
 ************************************************************/

menupopup,
panel,
#appMenu-popup {
  -moz-appearance: none !important;
  background-color: var(--fx-bg-ui) !important;
  color: var(--fx-fg) !important;
  border: 1px solid var(--fx-border-soft) !important;
  border-radius: 8px !important;
}

/* Menu item text */
menuitem,
menu {
  -moz-appearance: none !important;
  color: var(--fx-fg) !important;
}

/* Hovered / active menu item */
menuitem[_moz-menuactive="true"],
menu[_moz-menuactive="true"] {
  background-color: var(--fx-highlight-row) !important;
  color: var(--fx-fg) !important;
}

/* Separators */
menuseparator {
  -moz-appearance: none !important;
  border-top: 1px solid var(--fx-border-soft) !important;
  margin-block: 4px !important;
}

/************************************************************
 * 8. LIBRARY / PREFERENCES / GENERIC FORM CONTROLS
 ************************************************************/

/* Generic form backgrounds (about:preferences, etc.) */
textbox,
input,
textarea,
.search-textbox,
menulist {
  background-color: var(--fx-bg-ui) !important;
  color: var(--fx-fg) !important;
  border-radius: 6px !important;
  border: 1px solid var(--fx-border-soft) !important;
}

/* Focused fields */
textbox:focus,
input:focus,
textarea:focus,
.search-textbox[focused="true"],
menulist:focus {
  border-color: var(--fx-accent) !important;
  box-shadow: 0 0 0 1px var(--fx-accent-soft) !important;
}

/* Checkboxes / radio */
checkbox,
radio {
  color: var(--fx-fg) !important;
}

/************************************************************
 * 9. SCROLLBARS (LIGHT)
 ************************************************************/

:root {
  scrollbar-width: thin;
  scrollbar-color: var(--fx-fg-muted) var(--fx-bg-alt);
}

scrollbar,
scrollbar thumb,
scrollbar scrollbarbutton {
  -moz-appearance: none !important;
}

scrollbar {
  background-color: var(--fx-bg-alt) !important;
}

scrollbar thumb {
  background-color: var(--fx-fg-muted) !important;
  border-radius: 999px !important;
}

scrollbar thumb:hover {
  background-color: var(--fx-fg) !important;
}

/************************************************************
 * 10. MISC CLEANUPS
 ************************************************************/

/* Remove extra top border line */
#navigator-toolbox::after {
  border-bottom: none !important;
}

/* Tighter nav-bar vertically */
#nav-bar {
  padding-block: 2px !important;
}

/* Generic safety: UI containers keep light background + dark text */
toolbar,
panelview,
panelmultiview,
#TabsToolbar,
#nav-bar,
#PersonalToolbar,
#appMenu-popup {
  background-color: inherit !important;
  color: var(--fx-fg) !important;
}
